<div class="templates-container">
  <ng-container *ngIf="loadingTemplates; else templatesContent">
    <!-- Skeleton for Category Navbar -->
    <ngx-skeleton-loader [theme]="{
        height: '90px',
        width: '100%',
        'margin-bottom': '1rem',
        'border-radius': '2rem',
        'background-color': '#e0e0e0'
      }">
    </ngx-skeleton-loader>

    <!-- Skeleton for Header (Selected Category Title) -->
    <ngx-skeleton-loader [theme]="{
        height: '2rem',
        width: '50%',
        'margin-bottom': '1rem',
        'border-radius': '2rem',
        'background-color': '#e0e0e0'
      }">
    </ngx-skeleton-loader>

    <!-- Skeleton for Templates Grid -->
    <div class="templates-grid">
      <!-- Render a few skeleton cards to mimic the template cards -->
      <ngx-skeleton-loader *ngFor="let item of [1,2,3,4]" [theme]="{
            height: '300px',
            width: '100%',
            'margin-bottom': '1rem',
            'border-radius': '2rem',
            'background-color': '#e0e0e0'
         }">
      </ngx-skeleton-loader>
    </div>
  </ng-container>

    <ng-template #templatesContent>
  <!-- CATEGORY NAVBAR -->
  <nav class="category-navbar">
    <ul>
      <li *ngFor="let cat of categories" [class.active]="cat.name === selectedCategory"
        (click)="selectCategory(cat.name)">
        {{ cat.name }}
      </li>
    </ul>
  </nav>

  <h2>{{ selectedCategory }} Templates</h2>

  <!-- GRID OF TEMPLATES -->
  <div class="templates-grid">
    <div class="template-card" *ngFor="let tmpl of currentTemplates">
      <!-- Template Preview Image -->
      <!-- <img [src]="tmpl.previewImg" [alt]="tmpl.name" class="template-preview" /> -->

      <!-- Template Name and Description -->
      <h3 class="template-name">{{ tmpl.name }}</h3>
      <p class="template-desc">{{ tmpl.description }}</p>

      <!-- Preview Section -->
      <div class="preview-section" [innerHTML]="getSafeHtml(tmpl.content)"></div>

      <!-- Apply Template Button -->
      <button class="apply-button" (click)="applyTemplate(tmpl)">Apply Template</button>
    </div>
  </div>
  </ng-template>
</div>
