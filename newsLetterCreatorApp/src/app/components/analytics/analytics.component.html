<div class="analytics-container">
  <h2 class="title">Analytics Dashboard</h2>

  <div class="controls">
    <label>
      <input
        type="radio"
        name="period"
        value="daily"
        [checked]="selectedPeriod === 'daily'"
        (change)="onPeriodChange('daily')"
      />
      Daily
    </label>
    <label>
      <input
        type="radio"
        name="period"
        value="weekly"
        [checked]="selectedPeriod === 'weekly'"
        (change)="onPeriodChange('weekly')"
      />
      Weekly
    </label>
    <label>
      <input
        type="radio"
        name="period"
        value="monthly"
        [checked]="selectedPeriod === 'monthly'"
        (change)="onPeriodChange('monthly')"
      />
      Monthly
    </label>

    <button (click)="trackClick()" class="btn btn-secondary">Track Click</button>
  </div>

  <!-- Chart -->
  <div class="chart-wrapper">
    <canvas *ngIf="isBrowser"
      baseChart
      [data]="chartData"
      [options]="chartOptions"
      [type]="chartType"
    ></canvas>
  </div>

  <!-- Customer Stats Table -->
  <div class="customer-stats card">
    <h3>Customer Email Stats</h3>
    <table class="stats-table">
      <thead>
        <tr>
          <th>Email</th>
          <th>Sent Count</th>
          <th>Clicked Count</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let c of customerStats">
          <td>{{ c.customerEmail }}</td>
          <td>{{ c.sentCount }}</td>
          <td>{{ c.clickedCount }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
