<div class="analytics-container">
  <header class="header">
    <h2 class="title">Analytics Dashboard</h2>
  </header>

  <section class="controls">
    <!-- Period Selector -->
    <div class="period-selector">
      <label class="radio">
        <input type="radio" name="period" value="daily" [checked]="selectedPeriod === 'daily'"
          (change)="onPeriodChange('daily')" />
        Daily
      </label>
      <label class="radio">
        <input type="radio" name="period" value="weekly" [checked]="selectedPeriod === 'weekly'"
          (change)="onPeriodChange('weekly')" />
        Weekly
      </label>
      <label class="radio">
        <input type="radio" name="period" value="monthly" [checked]="selectedPeriod === 'monthly'"
          (change)="onPeriodChange('monthly')" />
        Monthly
      </label>
    </div>

    <!-- Chart Type Selector -->
    <div class="chart-type-selector">
      <label for="chartTypeSelect">Chart Type:</label>
  <select #chartTypeSelect id="chartTypeSelect" (change)="onChartTypeChange(chartTypeSelect.value)">
    <option *ngFor="let type of availableChartTypes" [value]="type" [selected]="chartType === type">
      {{ type | titlecase }}
    </option>
  </select>

    </div>

    <button (click)="trackClick()" class="btn btn-track">Track Click</button>
  </section>

  <section class="chart-section">
    <div class="chart-wrapper">
      <canvas *ngIf="isBrowser" baseChart [data]="chartData" [options]="chartOptions" [type]="chartType"></canvas>
    </div>
  </section>

  <section class="stats-section card">
    <h3>Customer Email Stats</h3>
    <table class="stats-table">
      <thead>
        <tr>
          <th>Email</th>
          <th>Sent Count</th>
          <th>Clicked Count</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let customer of customerStats">
          <td>{{ customer.customerEmail }}</td>
          <td>{{ customer.sentCount }}</td>
          <td>{{ customer.clickedCount }}</td>
        </tr>
      </tbody>
    </table>
  </section>
  <section class="d3-container">
  <app-d3-visualizations></app-d3-visualizations>
  </section>
</div>
